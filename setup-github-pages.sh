#!/bin/bash

# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GitHub Pages

echo "üöÄ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è GitHub Pages –¥–ª—è RoofMaster Belgium"
echo "=================================================="

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ —î git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
if [ ! -d ".git" ]; then
    echo "‚ùå Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –ó–∞–ø—É—Å—Ç—ñ—Ç—å 'git init' —Å–ø–æ—á–∞—Ç–∫—É."
    exit 1
fi

# –ó–∞–ø–∏—Ç GitHub username
echo ""
echo "üìù –í–≤–µ–¥—ñ—Ç—å –≤–∞—à GitHub username:"
read -r github_username

if [ -z "$github_username" ]; then
    echo "‚ùå Username –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º"
    exit 1
fi

# –ó–∞–ø–∏—Ç –Ω–∞–∑–≤–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
echo ""
echo "üìù –í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (–∞–±–æ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å Enter –¥–ª—è 'roofmaster-belgium'):"
read -r repo_name

if [ -z "$repo_name" ]; then
    repo_name="roofmaster-belgium"
fi

# –§–æ—Ä–º—É–≤–∞–Ω–Ω—è URL
github_url="https://github.com/$github_username/$repo_name"
pages_url="https://$github_username.github.io/$repo_name"

echo ""
echo "üîó GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π: $github_url"
echo "üåê GitHub Pages URL: $pages_url"
echo ""

# –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
echo "‚ùì –ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è? (y/n)"
read -r confirm

if [ "$confirm" != "y" ] && [ "$confirm" != "Y" ]; then
    echo "‚ùå –°–∫–∞—Å–æ–≤–∞–Ω–æ"
    exit 1
fi

# –í–∏–¥–∞–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ–≥–æ remote (—è–∫—â–æ —î)
echo "üîÑ –í–∏–¥–∞–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ–≥–æ remote..."
git remote remove origin 2>/dev/null || true

# –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ remote
echo "‚ûï –î–æ–¥–∞–≤–∞–Ω–Ω—è GitHub remote..."
git remote add origin "$github_url"

# –ü–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –≥—ñ–ª–∫–∏
echo "üîÑ –ü–µ—Ä–µ–π–º–µ–Ω—É–≤–∞–Ω–Ω—è –≥—ñ–ª–∫–∏ –Ω–∞ main..."
git branch -M main

# –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –Ω–∞ GitHub
echo "üì§ –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∫–æ–¥—É –Ω–∞ GitHub..."
git push -u origin main

if [ $? -eq 0 ]; then
    echo ""
    echo "‚úÖ –ö–æ–¥ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –Ω–∞ GitHub!"
    echo ""
    echo "üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:"
    echo "1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞: $github_url"
    echo "2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å 'Settings' (–≤–∫–ª–∞–¥–∫–∞)"
    echo "3. –ü—Ä–æ–∫—Ä—É—Ç—ñ—Ç—å –¥–æ 'Pages' (–ª—ñ–≤–∞ –ø–∞–Ω–µ–ª—å)"
    echo "4. –í 'Source' –≤–∏–±–µ—Ä—ñ—Ç—å 'Deploy from a branch'"
    echo "5. –í 'Branch' –≤–∏–±–µ—Ä—ñ—Ç—å 'main'"
    echo "6. –í 'Folder' –≤–∏–±–µ—Ä—ñ—Ç—å '/ (root)'"
    echo "7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å 'Save'"
    echo ""
    echo "‚è≥ –ó–∞—á–µ–∫–∞–π—Ç–µ 2-10 —Ö–≤–∏–ª–∏–Ω –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∞–π—Ç—É"
    echo ""
    echo "üåê –í–∞—à —Å–∞–π—Ç –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é:"
    echo "   $pages_url"
    echo ""
    echo "üì± –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è"
    echo ""
    echo "üéâ –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑–∞–º–æ–≤–Ω–∏–∫—É!"
else
    echo ""
    echo "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –Ω–∞ GitHub"
    echo "üí° –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:"
    echo "   - –ß–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ GitHub"
    echo "   - –ß–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π username"
    echo "   - –ß–∏ —î –¥–æ—Å—Ç—É–ø –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É"
    echo ""
    echo "üîó –°—Ç–≤–æ—Ä—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –≤—Ä—É—á–Ω—É: $github_url"
fi
